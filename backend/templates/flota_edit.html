{% extends "base.html" %}
{% block content %}
    <h1>Editar Flota - {{flota.nombre}}</h1>
    
    {% if error %}
        <div style="background:#ffcccc; color:#cc0000; padding:15px; margin:20px auto; width:80%; text-align:center; border-radius:5px;">
            {{ error }}
        </div>
    {% endif %}
    
    <form method="post" action="/flota_update/{{flota.id_flota}}" style="max-width:800px; margin:auto;">
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:15px;">
            <div>
                <label style="display:block; margin-bottom:5px; font-weight:bold;">Nombre de la Flota *</label>
                <input type="text" name="nombre" value="{{flota.nombre}}" required minlength="2" maxlength="40" style="width:100%;">
            </div>
            
            <div>
                <label style="display:block; margin-bottom:5px; font-weight:bold;">Categor√≠a *</label>
                <select name="categoria" required style="width:100%;">
                    <option value="">Seleccionar categor√≠a</option>
                    <option value="carga_ligera" {% if flota.categoria == 'carga_ligera' %}selected{% endif %}>Carga Ligera</option>
                    <option value="carga_pesada" {% if flota.categoria == 'carga_pesada' %}selected{% endif %}>Carga Pesada</option>
                    <option value="transporte_personal" {% if flota.categoria == 'transporte_personal' %}selected{% endif %}>Transporte Personal</option>
                    <option value="reparto" {% if flota.categoria == 'reparto' %}selected{% endif %}>Reparto</option>
                    <option value="especial" {% if flota.categoria == 'especial' %}selected{% endif %}>Especial</option>
                </select>
            </div>
            
            <div>
                <label style="display:block; margin-bottom:5px; font-weight:bold;">Ubicaci√≥n *</label>
                <input type="text" name="ubicacion" value="{{flota.ubicacion}}" required minlength="3" maxlength="100" style="width:100%;">
            </div>
            
            <div>
                <label style="display:block; margin-bottom:5px; font-weight:bold;">Estado *</label>
                <select name="estado" required style="width:100%;">
                    <option value="">Seleccionar estado</option>
                    <option value="activa" {% if flota.estado == 'activa' %}selected{% endif %}>Activa</option>
                    <option value="inactiva" {% if flota.estado == 'inactiva' %}selected{% endif %}>Inactiva</option>
                    <option value="mantenimiento" {% if flota.estado == 'mantenimiento' %}selected{% endif %}>Mantenimiento</option>
                </select>
            </div>
            
            <div>
                <label style="display:block; margin-bottom:5px; font-weight:bold;">Capacidad M√°xima</label>
                <input type="number" name="capacidad_maxima" value="{{flota.capacidad_maxima}}" min="0" max="1000" style="width:100%;">
            </div>
            
            <div>
                <label style="display:block; margin-bottom:5px; font-weight:bold;">Fecha de Creaci√≥n *</label>
                <input type="date" name="fecha_creacion" value="{{flota.fecha_creacion}}" required style="width:100%;">
            </div>
        </div>
        
        <div style="margin-top:15px;">
            <label style="display:block; margin-bottom:5px; font-weight:bold;">Descripci√≥n *</label>
            <textarea name="descripcion" required minlength="5" maxlength="100" rows="2" style="width:100%;">{{flota.descripcion}}</textarea>
        </div>
        
        <div style="margin-top:15px;">
            <label style="display:block; margin-bottom:5px; font-weight:bold;">Pol√≠ticas de Uso</label>
            <textarea name="politica_uso" rows="4" style="width:100%;" placeholder="Horarios, restricciones, requisitos especiales...">{{flota.politica_uso or ''}}</textarea>
        </div>
        
        <div style="display:flex; gap:10px; margin-top:20px;">
            <button type="submit" style="flex:1;">üíæ Guardar Cambios</button>
            <a href="/flota_web" style="flex:1; background:#666; color:white; padding:12px; border-radius:6px; text-decoration:none; text-align:center;">‚Ü© Cancelar</a>
        </div>
    </form>
{% endblock %}
