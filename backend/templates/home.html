{% extends "base.html" %}
{% block content %}
    <h1>Bienvenido al Sistema de Flota Logística</h1>
    
    {% if usuario %}
        <div style="text-align:center; background:white; padding:25px; margin:20px auto; width:80%; border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,0.1);">
            <h2 style="margin-top:0;">Hola, {{usuario["nombre"]}}</h2>
            <p style="font-size:1.1em; color:#666;">
                Tu rol: <span style="background:#667eea; color:white; padding:5px 15px; border-radius:20px; font-weight:600;">
                {% if usuario["rol"] == "admin" %}
                    Administrador
                {% elif usuario["rol"] == "mecanico" %}
                    Mecánico
                {% elif usuario["rol"] == "conductor" %}
                    Conductor
                {% elif usuario["rol"] == "logistica" %}
                    Logística
                {% elif usuario["rol"] == "observador" %}
                    Observador
                {% endif %}
                </span>
            </p>
        </div>
    {% endif %}
    
    <div style="width:80%; margin:auto; background:white; padding:30px; border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,0.1);">
        <h2>¿Qué puedo hacer?</h2>
        
        <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:20px; margin-top:20px;">
            {% if usuario["rol"] in ["admin", "logistica"] %}
            <div style="background:#e3f2fd; padding:20px; border-radius:8px; border-left:4px solid #2196F3;">
                <h3>Vehículos</h3>
                <p>{% if usuario["rol"] == "admin" %}Gestiona la información de todos los vehículos: crear, editar o eliminar.{% else %}Consulta el estado y detalles de los vehículos de la flota.{% endif %}</p>
            </div>
            {% endif %}
            
            {% if usuario["rol"] in ["admin"] %}
            <div style="background:#f3e5f5; padding:20px; border-radius:8px; border-left:4px solid #9C27B0;">
                <h3>Conductores</h3>
                <p>Administra los datos de los conductores. Agrega nuevos conductores o actualiza su información.</p>
            </div>
            {% endif %}
            
            {% if usuario["rol"] in ["admin", "logistica", "conductor"] %}
            <div style="background:#e8f5e9; padding:20px; border-radius:8px; border-left:4px solid #4CAF50;">
                <h3>Viajes</h3>
                <p>{% if usuario["rol"] == "admin" or usuario["rol"] == "logistica" %}Planifica, crea y monitorea viajes. Asigna conductores y rutas.{% else %}Consulta tus viajes asignados y su estado.{% endif %}</p>
            </div>
            {% endif %}
            
            {% if usuario["rol"] in ["mecanico"] %}
            <div style="background:#fff3e0; padding:20px; border-radius:8px; border-left:4px solid #FF9800;">
                <h3>Mantenimiento</h3>
                <p>Registra el mantenimiento preventivo y correctivo realizado a los vehículos.</p>
            </div>
            {% endif %}
            
            {% if usuario["rol"] in ["mecanico", "conductor"] %}
            <div style="background:#fce4ec; padding:20px; border-radius:8px; border-left:4px solid #E91E63;">
                <h3>Consumo</h3>
                <p>{% if usuario["rol"] == "mecanico" %}Registra el consumo de combustible de cada vehículo.{% else %}Consulta el consumo de tu vehículo asignado.{% endif %}</p>
            </div>
            {% endif %}
            
            {% if usuario["rol"] in ["admin", "logistica"] %}
            <div style="background:#e0f2f1; padding:20px; border-radius:8px; border-left:4px solid #009688;">
                <h3>Flota</h3>
                <p>{% if usuario["rol"] == "admin" %}Crea y gestiona diferentes flotas de vehículos.{% else %}Consulta la asignación y composición de las flotas.{% endif %}</p>
            </div>
            {% endif %}
            
            {% if usuario["rol"] in ["mecanico"] %}
            <div style="background:#f1f8e9; padding:20px; border-radius:8px; border-left:4px solid #8BC34A;">
                <h3>Incidentes</h3>
                <p>Registra accidentes, infracciones, daños y otros incidentes de los vehículos.</p>
            </div>
            {% endif %}
            
            {% if usuario["rol"] in ["admin", "logistica"] %}
            <div style="background:#fff9c4; padding:20px; border-radius:8px; border-left:4px solid #FFEB3B;">
                <h3>Órdenes de Servicio</h3>
                <p>{% if usuario["rol"] == "admin" %}Administra todas las órdenes de servicio.{% else %}Crea y consulta órdenes de servicio para la flota.{% endif %}</p>
            </div>
            {% endif %}
            
            {% if usuario["rol"] in ["observador"] %}
            <div style="background:#eceff1; padding:20px; border-radius:8px; border-left:4px solid #607D8B;">
                <h3>Reportes</h3>
                <p>Accede a reportes y análisis del sistema. Solo lectura de información.</p>
            </div>
            {% endif %}
        </div>
        
        <div style="margin-top:30px; padding:20px; background:#f5f5f5; border-radius:8px; border-left:4px solid #757575;">
            <h3>Resumen de Permisos por Rol:</h3>
            <ul style="list-style-position:inside; color:#555;">
                <li><strong>Admin:</strong> Acceso total a todo el sistema. Crear, editar, eliminar usuarios, vehículos, conductores, flotas, órdenes.</li>
                <li><strong>Mecánico:</strong> Gestión de mantenimiento, consumo de combustible e incidentes.</li>
                <li><strong>Conductor:</strong> Ver viajes asignados, consultar consumo y datos operacionales.</li>
                <li><strong>Logística:</strong> Crear y gestionar viajes, órdenes, ver vehículos y flotas.</li>
                <li><strong>Observador:</strong> Acceso de solo lectura a reportes y análisis del sistema.</li>
            </ul>
        </div>
        
        <div style="margin-top:20px; padding:20px; background:#f5f5f5; border-radius:8px; border-left:4px solid #757575;">
            <h3>Características principales:</h3>
            <ul style="list-style-position:inside; color:#555;">
                <li>Sistema de roles y permisos (5 roles diferenciados)</li>
                <li>Búsqueda y filtros en todas las secciones</li>
                <li>Descarga de reportes en CSV</li>
                <li>Gestión completa de CRUD según permisos</li>
                <li>Validación de datos y duplicados</li>
                <li>Soporte para acentos y caracteres especiales</li>
                <li>Interfaz responsiva y amigable</li>
            </ul>
        </div>
    </div>
{% endblock %}