{# Formulario de Evaluaciones: crear/editar puntuaciones y comentarios.
    Extiende de base.html para mantener coherencia visual. #}
{% extends "base.html" %}
{% block content %}
    <h1>Editar Evaluación</h1>

    {% if error %}
        <div class="error">{{ error }}</div>
    {% endif %}

    <form method="post" action="/evaluaciones_update/{{ evaluacion.id_evaluacion }}">
        <label>Conductor</label>
        <select name="id_conductor" required>
            <option value="">Seleccionar conductor</option>
            {% for u in conductores %}
                <option value="{{ u.id_conductor }}" {% if u.id_conductor == evaluacion.id_conductor %}selected{% endif %}>{{ u.nombre }} {{ u.apellido }}</option>
            {% endfor %}
        </select>

        <label>Fecha</label>
        <input type="date" name="fecha" value="{{ evaluacion.fecha }}" required>

        <label>Puntuación (1-10)</label>
        <input type="number" name="puntuacion" min="1" max="10" value="{{ evaluacion.puntuacion }}" required>

        <label>Comentarios</label>
        <textarea name="comentarios" maxlength="255">{{ evaluacion.comentarios }}</textarea>

        <button type="submit">Guardar cambios</button>
    </form>
{% endblock %}