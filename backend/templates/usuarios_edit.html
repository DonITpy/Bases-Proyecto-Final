{% extends "base.html" %}
{% block content %}
    <h1>Editar Usuario</h1>
    
    {% if error %}
        <div style="background:#ffcccc; color:#cc0000; padding:15px; margin:20px auto; width:80%; text-align:center; border-radius:5px; border:2px solid #cc0000;">
            <strong>⚠️ Error:</strong> {{ error }}
        </div>
    {% endif %}
    
    <form method="post" action="/usuarios_update/{{ usuario_edit.id_usuario }}" style="width:500px; margin:auto;">
        <label>Nombre</label>
        <input type="text" name="nombre" value="{{ usuario_edit.nombre }}" placeholder="Nombre completo" required minlength="2" maxlength="50">
        
        <label>Correo</label>
        <input type="email" name="correo" value="{{ usuario_edit.correo }}" placeholder="Correo electrónico" required maxlength="50">
        
        <label>Contraseña</label>
        <input type="password" name="password" value="{{ usuario_edit.password }}" placeholder="Contraseña" required minlength="6" maxlength="128">
        
        <label>Rol</label>
        <select name="rol" required>
            <option value="">Seleccionar rol</option>
            <option value="admin" {% if usuario_edit.rol == 'admin' %}selected{% endif %}>Admin</option>
            <option value="mecanico" {% if usuario_edit.rol == 'mecanico' %}selected{% endif %}>Mecánico</option>
            <option value="conductor" {% if usuario_edit.rol == 'conductor' %}selected{% endif %}>Conductor</option>
            <option value="logistica" {% if usuario_edit.rol == 'logistica' %}selected{% endif %}>Logística</option>
            <option value="observador" {% if usuario_edit.rol == 'observador' %}selected{% endif %}>Observador</option>
        </select>
        
        <button type="submit">Guardar cambios</button>
    </form>
    
    <div style="text-align:center; margin-top:20px;">
        <a href="/usuarios_web" style="color:#336699; text-decoration:none;">Volver</a>
    </div>
{% endblock %}